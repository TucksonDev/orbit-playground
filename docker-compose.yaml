version: '3.9'
services:
  nitro:
    image: "${NITRO_DOCKER_IMAGE_TAG}"
    ports:
      - "127.0.0.1:${NITRO_PORT}:${NITRO_PORT}"
    volumes:
      - "./${CHAIN_CONFIG_FOLDER}:/home/user/.arbitrum"
    command: --conf.file /home/user/.arbitrum/${NODE_CONFIG_FILENAME}.json

  das-server:
    image: "${NITRO_DOCKER_IMAGE_TAG}"
    entrypoint: [ "/bin/bash", "-c", "/das-server.sh ${USE_ANYTRUST}" ]
    volumes:
      - "./${CHAIN_CONFIG_FOLDER}:/home/user/.arbitrum"
      - "./shell-scripts/das-server.sh:/das-server.sh"
      - "./${DAS_LOCAL_STORAGE}:/home/user/das-data"
    ports:
      - "9876:9876"
      - "9877:9877"